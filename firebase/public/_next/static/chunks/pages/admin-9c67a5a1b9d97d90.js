(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[964],{4730:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return n(5245)}])},5245:function(e,t,n){"use strict";n.r(t),n.d(t,{Admin:function(){return Se},default:function(){return we}});var i=n(5893),r=n(7294),o=n(1664),a=n.n(o),s=n(1163),l=n(6245),c=n(9669),d=n.n(c),u=n(4416),m=n(6604),p=n(2979),f=n(1214),h=n(3327),x=n(6760),g=n(8396),y=n(9520),b=n(6886),v=n(3321),j=n(4054),Z=n(6689),S=n(3599),C=n(5861),w=n(6798),k=n(3316),D=n(9653),N=n(4564),P=n(7598),I=n(8271),z=n(3946),O=n(6893),F=n(1395),T=n(1900),H=n(5006);function B(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(i=n.next()).done)&&(o.push(i.value),!t||o.length!==t);a=!0);}catch(l){s=!0,r=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw r}}return o}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return B(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return B(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var E=(0,f.Z)((function(e){return(0,h.Z)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){U(e,t,n[t])}))}return e}({},e.spreadThis,{formCont:{display:"flex",flexDirection:"column"},optionClass:{display:"flex",margin:"1rem 0 1rem",alignItems:"center"},userCont:U({marginTop:"1.5rem",display:"flex",alignItems:"center"},e.breakpoints.down("sm"),{marginTop:"1rem"}),list:{padding:0},topicSel:U({justifyContent:"space-between"},e.breakpoints.down("sm"),{flexDirection:"column"}),resize:{fontSize:15,fontFamily:'"Helvetica"'},uploadImg:{"&:hover, &.MuiIconButton-root":{borderRadius:"0"}},btnClass:{height:32,alignItems:"center",justifyContent:"center",width:146,border:"1px solid #D9D9D9",display:"flex"},clickUp:{fontFamily:'"Helvetica"',fontSize:14,marginLeft:5,color:"#000"},popover:{padding:".5rem .75rem"},bottmInfo:U({display:"flex",justifyContent:"space-between"},e.breakpoints.down("sm"),{flexDirection:"column"}),post:U({marginLeft:"auto",width:"100px",height:46,backgroundColor:"#36C2F3",boxShadow:"none"},e.breakpoints.down("sm"),{width:"60px"})}))}));var A={clearUpload:m.UL,postImage:p.mh},L=(0,u.$j)((function(e){return{data:e.data,user:e.user,UI:e.UI}}),A)((function(e){var t=(0,x.Z)(),n=E(e),o=((0,g.Z)(t.breakpoints.up("md")),(0,r.useState)(!1)),a=o[0],s=o[1],l=(0,r.useState)(""),c=l[0],d=l[1],u=(0,r.useState)(""),m=u[0],p=u[1],f=(0,r.useState)(""),h=f[0],y=f[1],j=(0,r.useState)(""),w=j[0],k=j[1],B=(0,r.useState)(""),U=B[0],A=B[1],L=(0,r.useState)(!1),W=L[0],_=L[1],M=(0,r.useState)(),Y=M[0],$=M[1],Q=(0,r.useState)(),X=Q[0],q=Q[1],V=R(r.useState(null),2),G=V[0],J=V[1],K=Boolean(G),ee=K?"simple-popover":void 0;return(0,i.jsx)("div",{children:(0,i.jsxs)("form",{className:n.formCont,onSubmit:function(t){t.preventDefault(),q(!0);var n={title:c,subTitle:m,body:h,important:a,topic:e.video?"video":w,link:e.video?"https://www.youtube.com/embed/".concat(U):U,postImage:e.video?"":e.data.upload.imgName,postedBy:"".concat(e.user.credentials.fName," ").concat(e.user.credentials.lName)};void 0!==n.postImage?H.Qw.createPost(n).then((function(t){console.log({res:t}),e.handleSuccess(),e.clearUpload()})).catch((function(e){console.log({err:e}),$(!0),q(!1)})):(J(t.currentTarget),q(!1))},children:[!e.video&&(0,i.jsxs)(b.ZP,{container:!0,className:n.topicSel,children:[(0,i.jsxs)(b.ZP,{xs:6,sm:4,lg:4,className:n.optionClass,children:[(0,i.jsx)(C.Z,{variant:"body1",style:{marginRight:".5rem",fontFamily:'"Helvetica"',fontSize:15},children:"Important"}),(0,i.jsx)(D.Z,{checked:a,onClick:function(){s(!a)},color:"secondary",name:"checkedB",inputProps:{"aria-label":"primary checkbox"}})]}),(0,i.jsx)(b.ZP,{sm:12,md:8,lg:4,className:n.optionClass,children:(0,i.jsxs)("div",{style:{width:"100%"},children:[(0,i.jsx)(C.Z,{variant:"body1",style:{marginBottom:"0.5rem",fontFamily:'"Helvetica"',fontSize:15},children:"Select a Topic"}),(0,i.jsxs)(Z.Z,{labelId:"Topic",id:"topic",error:Y,value:w,onChange:function(e){k(e.target.value)},disableUnderline:!0,color:"secondary",MenuProps:{classes:{list:n.list}},classes:{root:n.selectRoot,icon:n.icon},style:{border:"1px solid #D9D9D9",padding:"3px 0 3px 5px",minWidth:"100%"},children:[(0,i.jsx)(S.Z,{value:"",children:(0,i.jsx)("em",{children:"None"})}),(0,i.jsx)(S.Z,{value:"nigeria",style:{fontFamily:'"Helvetica"',fontSize:15},children:"Nigeria"}),(0,i.jsx)(S.Z,{value:"international",style:{fontFamily:'"Helvetica"',fontSize:15},children:"International"}),(0,i.jsx)(S.Z,{value:"security",style:{fontFamily:'"Helvetica"',fontSize:15},children:"Security"}),(0,i.jsx)(S.Z,{value:"health",style:{fontFamily:'"Helvetica"',fontSize:15},children:"Health"}),(0,i.jsx)(S.Z,{value:"business",style:{fontFamily:'"Helvetica"',fontSize:15},children:"Business"}),(0,i.jsx)(S.Z,{value:"other",style:{fontFamily:'"Helvetica"',fontSize:15},children:"Other"}),(0,i.jsx)(S.Z,{value:"politics",style:{fontFamily:'"Helvetica"',fontSize:15},children:"Politics"}),(0,i.jsx)(S.Z,{value:"nass",style:{fontFamily:'"Helvetica"',fontSize:15},children:"NASS"}),(0,i.jsx)(S.Z,{value:"tit",style:{fontFamily:'"Helvetica"',fontSize:15},children:"Tit Bits"})]})]})})]}),(0,i.jsx)(C.Z,{variant:"body1",style:{margin:"1rem 0 0.5rem",fontFamily:'"Helvetica"',fontSize:15},children:"Topic"}),(0,i.jsx)(I.Z,{color:"secondary",error:Y,fullWidth:!0,value:c,onChange:function(e){return d(e.target.value)},InputProps:{disableUnderline:!0,classes:{input:n.resize}},margin:"normal",style:{border:"1px solid #D9D9D9",padding:"4px 12px",marginTop:"0"}}),a&&(0,i.jsx)(I.Z,{color:"secondary",label:"Subtitle",error:Y,fullWidth:!0,value:m,onChange:function(e){return p(e.target.value)},margin:"normal",InputLabelProps:{shrink:!0}}),(0,i.jsx)(C.Z,{variant:"body1",style:{margin:"1rem 0 0.5rem",fontFamily:'"Helvetica"',fontSize:15},children:"Body"}),(0,i.jsx)(P.Z,{"aria-label":"minimum height",maxRows:3,minRows:3,multiline:!0,error:Y,color:"secondary",value:h,onChange:function(e){return y(e.target.value)},style:{fontFamily:'"Helvetica"',fontSize:15,border:"1px solid #D9D9D9",padding:"8px 16px"}}),(0,i.jsx)(C.Z,{variant:"body1",style:{margin:"1.5rem 0 0.5rem",fontFamily:'"Helvetica"',fontSize:15},children:"Link"}),(0,i.jsx)(I.Z,{id:"standard-full-width",color:"secondary",error:Y,fullWidth:!0,value:U,onChange:function(e){return A(e.target.value)},margin:"normal",InputProps:{disableUnderline:!0,classes:{input:n.resize}},style:{border:"1px solid #D9D9D9",padding:"4px 12px",marginTop:"0"}}),(0,i.jsxs)("div",{className:n.bottmInfo,children:[!e.video&&(0,i.jsxs)("span",{className:n.userCont,children:[(0,i.jsx)(C.Z,{style:{marginRight:".25rem",fontFamily:'"Helvetica"',fontSize:14},variant:"caption",children:"Upload Picture"}),(0,i.jsx)("input",{type:"file",id:"imageInput",hidden:"hidden",onChange:function(t){var n=t.target.files[0];(new FormData).append("image",n,n.name),e.postImage(n),_(!0)}}),(0,i.jsx)(O.Z,{title:"Edit profile picture",placement:"top",className:n.uploadImg,children:(0,i.jsx)(z.Z,{onClick:function(){document.getElementById("imageInput").click()},children:(0,i.jsxs)("div",{className:n.btnClass,children:[(0,i.jsx)(T.Z,{fontSize:"small"}),(0,i.jsx)(C.Z,{className:n.clickUp,children:"Click to Upload"})]})})}),W&&(0,i.jsx)(F.Z,{color:"secondary"})]}),(0,i.jsxs)("span",{className:n.userCont,children:[(0,i.jsx)(C.Z,{style:{marginRight:".25rem",fontSize:15,fontFamily:'"Helvetica"'},variant:"caption",children:"User name:"}),(0,i.jsxs)(C.Z,{variant:"p",style:{color:"#6B3FA0",fontSize:15,textTransform:"capitalize",fontFamily:'"Helvetica"'},children:[e.user.credentials.fName," ",e.user.credentials.lName]})]})]}),(0,i.jsx)(v.Z,{disabled:X,variant:"contained",color:"secondary",type:"submit",className:n.post,children:"Post"}),(0,i.jsx)(N.ZP,{id:ee,open:K,anchorEl:G,onClose:function(){J(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:(0,i.jsx)(C.Z,{className:n.popover,children:"Image hasn't been uploaded yet."})})]})})})),W=n(982),_=n(7484),M=n.n(_),Y=n(4110),$=n.n(Y),Q=n(6628),X=n(8628),q=n(4808),V=n(9067);function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var J=(0,f.Z)((function(e){var t;return(0,h.Z)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){G(e,t,n[t])}))}return e}({},e.spreadThis,(t={editBtn:{fill:"#185E5C",width:"2em",fontSize:".80rem",cursor:"pointer","&:hover":{transition:".5s"}},modal:{display:"flex",margin:"auto"},modalClass:G({borderRadius:"10px",backgroundColor:"white",width:"690px",height:"75%",margin:"auto",padding:"2.5%",overflow:"scroll"},e.breakpoints.down("sm"),{width:"90%"}),textClass:{width:"100%",fontFamily:'"Helvetica"',fontSize:15},input:{color:"#000"},btnClass:{width:"fit-content"},userCont:{marginTop:"1.5rem",display:"flex",alignItems:"center"},uploadImg:{"&:hover, &.MuiIconButton-root":{borderRadius:"0"}}},G(t,"btnClass",{height:32,alignItems:"center",justifyContent:"center",width:146,border:"1px solid #D9D9D9",display:"flex"}),G(t,"clickUp",{fontFamily:'"Helvetica"',fontSize:14,marginLeft:5,color:"#000"}),G(t,"updateClass",G({float:"right",width:"100px",color:"#fff",height:46,backgroundColor:"#36C2F3",boxShadow:"none"},e.breakpoints.down("sm"),{width:"auto"})),t)))}));var K={postImage:p.mh},ee=(0,u.$j)((function(e){return{data:e.data,UI:e.UI}}),K)((function(e){var t=(0,x.Z)(),n=J(e),o=((0,g.Z)(t.breakpoints.up("md")),(0,r.useState)(!1)),a=o[0],s=o[1],l=(0,r.useState)(""),c=l[0],u=l[1],m=(0,r.useState)(""),p=m[0],f=m[1],h=(0,r.useState)(""),y=h[0],b=h[1],j=(0,r.useState)(""),Z=j[0],S=j[1],w=(0,r.useState)(!1),k=w[0],D=w[1],N=(0,r.useState)(!1),B=N[0],U=N[1],R=function(){s(!1),u(""),f(""),b(""),S("")};return(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{onClick:function(){d().get("/post/".concat(e.postID)).then((function(e){u(e.data.title),f(e.data.subTitle),b(e.data.body),D(e.data.postsid)})).catch((function(e){return console.log(e)})),s(!0)},children:(0,i.jsx)(V.Z,{className:n.editBtn})}),(0,i.jsx)(X.Z,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:n.modal,open:a,onClose:R,closeAfterTransition:!0,BackdropComponent:q.Z,BackdropProps:{timeout:500},children:(0,i.jsx)(Q.Z,{in:a,children:(0,i.jsx)("div",{className:n.modalClass,onClose:R,children:(0,i.jsxs)("div",{style:{marginTop:"4rem"},children:[(0,i.jsx)(C.Z,{variant:"body1",style:{margin:"1rem 0 0.5rem",fontFamily:'"Helvetica"',fontSize:15},children:"Title"}),(0,i.jsx)(I.Z,{className:n.textClass,color:"secondary",value:c,onChange:function(e){return u(e.target.value)},InputProps:{disableUnderline:!0},style:{border:"1px solid #D9D9D9",padding:"4px 12px",marginTop:"0"}}),(0,i.jsx)(C.Z,{variant:"body1",style:{margin:"1rem 0 0.5rem",fontFamily:'"Helvetica"',fontSize:15},children:"Body"}),(0,i.jsx)(P.Z,{className:n.textClass,"aria-label":"minimum height",minRows:3,maxRows:3,multiline:!0,rows:4,color:"secondary",value:y,onChange:function(e){return b(e.target.value)},style:{border:"1px solid #D9D9D9",padding:"8px 16px"},InputLabelProps:{shrink:!0}}),(0,i.jsx)(C.Z,{variant:"body1",style:{margin:"1.5rem 0 0.5rem",fontFamily:'"Helvetica"',fontSize:15},children:"Link"}),(0,i.jsx)(I.Z,{className:n.textClass,color:"secondary",value:Z,onChange:function(e){return S(e.target.value)},InputProps:{disableUnderline:!0,className:n.input},style:{border:"1px solid #D9D9D9",padding:"4px 12px",fontFamily:'"Helvetica"',marginTop:"0"}}),!e.video&&(0,i.jsxs)("span",{className:n.userCont,children:[(0,i.jsx)(C.Z,{style:{marginRight:".25rem",fontFamily:'"Helvetica"',fontSize:14},variant:"caption",children:"Upload Picture"}),(0,i.jsx)("input",{type:"file",id:"imageInput",hidden:"hidden",onChange:function(t){var n=t.target.files[0],i=new FormData;i.append("image",n,n.name),e.postImage(i),U(!0)}}),(0,i.jsx)(O.Z,{title:"Edit profile picture",placement:"top",className:n.uploadImg,children:(0,i.jsx)(z.Z,{onClick:function(){document.getElementById("imageInput").click()},children:(0,i.jsxs)("div",{className:n.btnClass,children:[(0,i.jsx)(T.Z,{fontSize:"small"}),(0,i.jsx)(C.Z,{className:n.clickUp,children:"Click to Upload"})]})})}),B&&(0,i.jsx)(F.Z,{color:"secondary"})]}),(0,i.jsx)(v.Z,{onClick:function(){var t={title:c,subTitle:p,body:y,link:Z,postImage:e.data.upload.imgName};H.Qw.updatePost(k,t).then((function(t){return e.handleSuccess()})).catch((function(e){return console.log(e)})),s(!1)},className:n.updateClass,children:"Update"})]})})})})]})})),te=n(8428),ne=n(8995);function ie(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var re=(0,f.Z)((function(e){var t;return(0,h.Z)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){ie(e,t,n[t])}))}return e}({},e.spreadThis,{postConts:{display:"flex",alignItems:"center",marginLeft:"auto",justifyContent:"end"},postCont:(t={display:"flex",margin:"1rem auto",gap:20},ie(t,e.breakpoints.down("sm"),{flexDirection:"column",width:"344px"}),ie(t,e.breakpoints.down("sm"),{width:"100%!important"}),t),delete:{cursor:"pointer","&:hover":{transition:".5s"}},postImg:ie({minWidth:"378px",maxWidth:"378px",height:"281px",objectFit:"cover"},e.breakpoints.down("sm"),{minWidth:"100%",maxWidth:"344px"}),title:ie({fontWeight:900,fontSize:20,textTransform:"initial",fontFamily:'"Playfair Display"',lineHeight:1.1,paddingTop:25,letterSpacing:-1},e.breakpoints.down("sm"),{fontSize:"24px!important"}),subnews:ie({color:"black",fontSize:15,margin:"10px 0",letterSpacing:0,fontFamily:'"Helvetica Light"',fontWeight:300,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},e.breakpoints.down("sm"),{fontSize:"13px!important"}),inputCont:{display:"flex",margin:"2rem 0 1.5rem"},iconCont:ie({cursor:"pointer",minWidth:"3rem",minHeight:"2.6rem",backgroundColor:"transparent",borderTopRightRadius:2,borderBottomRightRadius:2,display:"flex",alignItems:"center",justifyContent:"center",border:"1px solid #D9D9D9"},e.breakpoints.down("sm"),{minWidth:"2.5rem"}),iconClass:{"&:hover":{color:e.palette.secondary.main}}}))}));var oe={deletePost:m.fR,clearErrors:m.b9},ae=(0,u.$j)((function(e){return{data:e.data,UI:e.UI}}),oe)((function(e){var t=(0,x.Z)(),n=re(e),o=((0,g.Z)(t.breakpoints.up("md")),(0,r.useState)("")),a=(o[0],o[1]),s=e.video?e.posts.filter((function(e){return"video"===e.topic})):e.posts.filter((function(e){return"video"!==e.topic}));return e.UI.loading,M().extend($()),(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:n.inputCont,children:[(0,i.jsx)(I.Z,{placeholder:"Search story...",fullWidth:!0,onChange:function(e){return a(e.target.value)},InputProps:{disableUnderline:!0,className:n.input},style:{border:"1px solid #D9D9D9",padding:"4px 10px",fontFamily:'"Helvetica"',marginTop:"0",borderTopLeftRadius:2,borderBottomLeftRadius:2}}),(0,i.jsx)("div",{className:n.iconCont,children:(0,i.jsx)(ne.Z,{style:{color:"#6B3FA0"},className:n.iconClass})})]}),s.map((function(t,r){return(0,i.jsxs)("div",{children:[(0,i.jsx)(b.ZP,{container:!0,style:{flexDirection:"column"},children:(0,i.jsxs)(b.ZP,{className:n.postCont,children:[(0,i.jsx)("img",{src:t.postImage,alt:"".concat(e.topic," image"),className:n.postImg}),(0,i.jsxs)("div",{children:[(0,i.jsxs)("div",{className:n.postConts,children:[(0,i.jsx)(ee,{handleSuccess:e.handleSuccess,postID:t.id}),(0,i.jsx)(te.Z,{onClick:function(){return n=t.postsid,void e.deletePost(n);var n},className:n.delete,color:"error",fontSize:"small"})]}),(0,i.jsx)(C.Z,{className:n.title,variant:"subtitle1",children:t.title}),(0,i.jsx)(C.Z,{variant:"subtitle2",className:n.subnews,children:t.subTitle}),(0,i.jsx)(C.Z,{variant:"caption",children:M()(t.createdAt).fromNow()})]})]})}),(0,i.jsx)("hr",{})]},r)}))]})}));function se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var le=(0,f.Z)((function(e){return(0,h.Z)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){se(e,t,n[t])}))}return e}({},e.spreadThis,{formCont:{display:"flex",flexDirection:"column",marginTop:"1rem"},resize:{fontSize:15,fontFamily:'"Helvetica"'},optionClass:{display:"flex",margin:"1rem 0 1rem",alignItems:"center"},userCont:{marginTop:"1.5rem",display:"flex",alignItems:"center"},btnClass:{backgroundColor:"rgba(0,0,0,.10)",padding:".5rem",borderRadius:"50%"},post:se({marginLeft:"auto",width:"100px",height:46,backgroundColor:"#36C2F3",boxShadow:"none"},e.breakpoints.down("sm"),{width:"60px"})}))}));var ce={clearErrors:m.b9,postDoc:p.tX},de=(0,u.$j)((function(e){return{data:e.data,user:e.user,UI:e.UI}}),ce)((function(e){var t=(0,x.Z)(),n=le(e),o=((0,g.Z)(t.breakpoints.up("md")),(0,r.useState)("")),a=o[0],s=o[1],l=(0,r.useState)(""),c=l[0],d=l[1],u=(0,r.useState)(""),m=u[0],p=u[1],f=(0,r.useState)(!1),h=(f[0],f[1],(0,r.useState)()),y=h[0],b=h[1],j=(0,r.useState)(),Z=j[0],S=j[1];return(0,i.jsxs)("div",{children:[(0,i.jsx)(C.Z,{variant:"caption",style:{margin:"1rem 0 0.5rem",fontFamily:'"Helvetica"',fontSize:15},children:"Please upload document"}),(0,i.jsxs)("form",{className:n.formCont,onSubmit:function(t){t.preventDefault(),S(!0);var n={title:a,info:c,postedBy:"".concat(e.user.credentials.fName," ").concat(e.user.credentials.lName),url:e.data.upload.doc,link:e.video?"https://www.youtube.com/embed/".concat(m):m};H.Qw.createDocument(n).then((function(t){return e.handleSuccess()})).catch((function(e){b(!0),S(!1)}))},children:[(0,i.jsx)(C.Z,{variant:"body1",style:{margin:"1rem 0 0.5rem",fontFamily:'"Helvetica"',fontSize:15},children:"Title"}),(0,i.jsx)(I.Z,{color:"secondary",error:y,fullWidth:!0,value:a,onChange:function(e){return s(e.target.value)},margin:"normal",InputProps:{disableUnderline:!0,classes:{input:n.resize}},style:{fontFamily:'"Helvetica"',fontSize:15,border:"1px solid #D9D9D9",padding:"4px 12px",marginTop:"0"}}),(0,i.jsx)(C.Z,{variant:"body1",style:{margin:"1rem 0 0.5rem",fontFamily:'"Helvetica"',fontSize:15},children:"Info"}),(0,i.jsx)(P.Z,{color:"secondary",error:y,"aria-label":"minimum height",maxRows:3,minRows:3,multiline:!0,value:c,onChange:function(e){return d(e.target.value)},margin:"normal",InputProps:{disableUnderline:!0},style:{fontFamily:'"Helvetica"',fontSize:15,border:"1px solid #D9D9D9",padding:"4px 12px",marginTop:"0"}}),(0,i.jsx)(C.Z,{variant:"body1",style:{margin:"1.5rem 0 0.5rem",fontFamily:'"Helvetica"',fontSize:15},children:"Link"}),(0,i.jsx)(I.Z,{id:"standard-full-width",color:"secondary",error:y,fullWidth:!0,value:m,onChange:function(e){return p(e.target.value)},margin:"normal",InputProps:{disableUnderline:!0,classes:{input:n.resize}},style:{fontFamily:'"Helvetica"',fontSize:15,border:"1px solid #D9D9D9",padding:"4px 12px",marginTop:"0"}}),(0,i.jsxs)("span",{className:n.userCont,children:[(0,i.jsx)(C.Z,{style:{marginRight:".25rem",fontSize:15,fontFamily:'"Helvetica"'},variant:"caption",children:"User name:"}),(0,i.jsxs)(C.Z,{variant:"p",style:{color:"#6B3FA0",fontSize:15,textTransform:"capitalize",fontFamily:'"Helvetica"'},children:[e.user.credentials.fName," ",e.user.credentials.lName]})]}),(0,i.jsx)(v.Z,{disabled:Z,variant:"contained",color:"secondary",type:"submit",className:n.post,children:"Post"})]})]})}));function ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var me=(0,f.Z)((function(e){return(0,h.Z)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){ue(e,t,n[t])}))}return e}({},e.spreadThis,{postCont:{display:"flex",flexDirection:"column",margin:"1rem auto"},delete:{padding:".5rem",borderRadius:"50%",cursor:"pointer","&:hover":{backgroundColor:"rgba(0,0,0,.1)",transition:".5s"}}}))}));var pe={deleteDoc:m.oe,clearErrors:m.b9},fe=(0,u.$j)((function(e){return{data:e.data,UI:e.UI}}),pe)((function(e){var t=(0,x.Z)(),n=me(e),r=((0,g.Z)(t.breakpoints.up("md")),e.docs);return(0,i.jsx)("div",{children:r.map((function(t,r){return(0,i.jsxs)("div",{children:[(0,i.jsxs)(b.ZP,{container:!0,children:[(0,i.jsxs)(b.ZP,{xs:11,className:n.postCont,children:[(0,i.jsx)(C.Z,{style:{textTransform:"capitalize"},variant:"subtitle1",children:t.title}),(0,i.jsx)(C.Z,{variant:"subtitle2",children:t.info}),(0,i.jsxs)(C.Z,{variant:"caption",children:["Posted By: ",t.postedBy]}),(0,i.jsxs)(C.Z,{variant:"caption",children:["Posted On: ",M()(t.createdAt).format("h:mm a, dddd DD-MMM-YYYY")]})]}),(0,i.jsx)(b.ZP,{xs:1,className:n.postCont,children:(0,i.jsx)(te.Z,{onClick:function(){return n=t.docid,void e.deleteDoc(n);var n},className:n.delete,color:"error"})})]}),(0,i.jsx)("hr",{})]},r)}))})})),he=n(9912);function xe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ge=(0,f.Z)((function(e){return(0,h.Z)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){xe(e,t,n[t])}))}return e}({},e.spreadThis,{postCont:{display:"flex",flexDirection:"column",marginLeft:"auto"},buttonClass:{padding:".5rem",borderRadius:"50%",cursor:"pointer","&:hover":{backgroundColor:"rgba(0,0,0,.1)",transition:".5s"}}}))}));function ye(e){var t=(0,x.Z)(),n=ge(e),o=((0,g.Z)(t.breakpoints.up("md")),(0,r.useState)("")),a=(o[0],o[1]),s=e.posts.filter((function(e){return"video"!==e.topic&&!1===e.editors_pick}));return(0,i.jsx)("div",{children:s.map((function(t,r){return(0,i.jsxs)("div",{children:[(0,i.jsxs)(b.ZP,{container:!0,style:{flexDirection:"column"},children:[(0,i.jsx)(b.ZP,{xs:1,className:n.postCont,children:(0,i.jsx)(he.Z,{onClick:function(){return n=t.postsid,a(n),void d().get("/update/".concat(n)).then((function(t){return e.handleSuccess()})).catch((function(e){console.log(e)}));var n},className:n.buttonClass,color:"secondary"})}),(0,i.jsxs)(b.ZP,{xs:11,className:n.postCont,children:[(0,i.jsx)(C.Z,{style:{textTransform:"capitalize"},variant:"subtitle1",children:t.title}),(0,i.jsx)(C.Z,{variant:"subtitle2",children:t.subtitle}),(0,i.jsxs)(C.Z,{variant:"button",children:["topic: ",t.topic]}),(0,i.jsxs)(C.Z,{variant:"caption",children:["Posted By: ",t.postedBy]}),(0,i.jsxs)(C.Z,{variant:"caption",children:["Posted On:"," ",M()(t.createdAt).format("h:mm a, dddd DD-MMM-YYYY")]})]})]}),(0,i.jsx)("hr",{})]},r)}))})}var be=n(8997),ve=n(1037);n(997);function je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ze=(0,f.Z)((function(e){var t;return(0,h.Z)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},i=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),i.forEach((function(t){je(e,t,n[t])}))}return e}({},e.spreadThis,{formControl:{width:"100%"},admin:je({fontFamily:'"Helvetica Black Bold"',fontSize:48,paddingBottom:40},e.breakpoints.down("sm"),{fontSize:24}),navCont:{marginBottom:"5rem",paddingTop:"1.5rem"},gridCont:(t={background:"#fff",width:"690px",margin:"auto",padding:"40px",marginBottom:30,boxShadow:"0px 4px 34px 10px rgba(228, 228, 228, 0.25)"},je(t,e.breakpoints.down("sm"),{width:"85%"}),je(t,e.breakpoints.down("xs"),{paddingRight:"20px",paddingLeft:"20px",width:"100%"}),t),logoFull:{height:"auto",width:105,margin:"1rem"},hubClass:{height:"20px",width:"auto",marginRight:".25rem"},mainCont:{marginTop:"1rem"},contentType:{fontSize:15,marginBottom:"0.5rem",fontFamily:'"Helvetica"'},list:{padding:0},selectRoot:je({},e.breakpoints.down("sm"),{}),buttonCont:{display:"flex",marginTop:"2rem"},btnCont:je({width:"fit-content",textTransform:"uppercase",marginLeft:30,fontSize:15,fontFamily:'"Helvetica Bold"',backgroundColor:"#185E5C",color:"white",borderColor:"transparent","&:hover":{backgroundColor:"#e94b47"}},e.breakpoints.down("sm"),{padding:8}),btnConts:je({width:"fit-content",textTransform:"uppercase",marginLeft:"auto",background:"#6B3FA0",height:45,fontSize:15,fontmily:'"Helvetica Bold"',boxShaw:"none"},e.breakpoints.down("sm"),{padding:8})}))}));function Se(e){var t=(0,r.useState)(""),n=t[0],o=t[1],c=(0,r.useState)(!1),d=c[0],u=c[1],m=(0,r.useState)(!1),p=m[0],f=m[1],h=(0,r.useState)(!1),D=h[0],N=h[1],P=(0,r.useState)([]),I=(P[0],P[1]),z=(e.data.doctopic,(0,r.useState)(!1)[0],function(){o(""),f(!0)}),O=function(e,t){"clickaway"!==t&&f(!1)},F=function(t){"story"===t||"editors"===t?(e.getAllPosts(),u(!1),N(!1),I(e.data.posts)):"video"===t?(e.getTopic(t),u(!1),N(!1),I(e.data.topic)):"documents"===t&&(e.getDocuments(),u(!1),N(!1),I(e.data.docs))},T=(0,s.useRouter)(),H=(0,x.Z)(),B=Ze(e),U=(0,g.Z)(H.breakpoints.up("md")),R=(0,r.useState)(!0);R[0],R[1];return(0,r.useEffect)((function(){var t=localStorage.FBIdToken;if(console.log({token:t}),t)try{var n=(0,l.Z)(t);if(1e3*n.exp<Date.now())e.logoutUser(),T.push("/");else{e.isAuth(n);var i=document.getElementById("navBar");null!==i&&(i.style.display="none")}}catch(r){console.log({err:r})}else T.push("/")}),[]),(0,i.jsx)("div",{style:{background:"#FBFBFB",minHeight:"100vh"},children:e.user.authenticated?(0,i.jsxs)("div",{children:[(0,i.jsx)(y.Z,{className:B.navCont,children:(0,i.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,i.jsx)(a(),{href:"/",className:B.logoComp,children:(0,i.jsx)("a",{children:(0,i.jsx)("img",{src:be.Z.src,className:U?B.logoClass:B.logoFull,alt:"MPH-logo",style:{width:""}})})}),(0,i.jsxs)("div",{style:{display:"flex",cursor:"pointer"},children:[(0,i.jsx)("img",{src:ve.Z.src,alt:"",className:B.hubClass}),(0,i.jsxs)(C.Z,{variant:"p",style:{fontSize:15,textTransform:"capitalize",fontFamily:'"Helvetica"'},children:[e.user.credentials.fName," ",e.user.credentials.lName]})]})]})}),(0,i.jsxs)(y.Z,{className:B.adminCont,children:[(0,i.jsx)(C.Z,{className:B.admin,variant:"h5",children:"Admin Panel"}),(0,i.jsxs)(b.ZP,{className:B.gridCont,children:[(0,i.jsxs)(b.ZP,{className:B.formControl,children:[(0,i.jsx)(C.Z,{className:B.contentType,children:"Select a Content Type"}),(0,i.jsx)(j.Z,{style:{minWidth:"100%",border:"1px solid #D9D9D9",padding:"3px 0 3px 5px"},children:(0,i.jsxs)(Z.Z,{value:n,color:"secondary",onChange:function(e){o(e.target.value),F(e.target.value)},label:"Content",disableUnderline:!0,MenuProps:{classes:{list:B.list}},classes:{root:B.selectRoot,icon:B.icon},children:[(0,i.jsx)(S.Z,{value:"",children:(0,i.jsx)("em",{children:"None"})}),(0,i.jsx)(S.Z,{style:{fontFamily:'"Helvetica"',fontSize:15},value:"story",children:"Story"}),(0,i.jsx)(S.Z,{style:{fontFamily:'"Helvetica"',fontSize:15},value:"video",children:"Video"}),(0,i.jsx)(S.Z,{style:{fontFamily:'"Helvetica"',fontSize:15},value:"documents",children:"Documents"})]})})]}),""!==n&&(0,i.jsxs)(b.ZP,{className:B.buttonCont,children:[(0,i.jsxs)(v.Z,{size:U?"small":"large",onClick:function(){u(!0),N(!1)},className:B.btnConts,style:{},variant:"contained",color:"secondary",children:["Add New ",n]}),"editors"!==n&&(0,i.jsxs)(v.Z,{size:U?"small":"large",onClick:function(){u(!1),N(!0)},variant:"outlined",className:B.btnCont,children:["story"===n?"Edit":"Delete"," ",n]})]}),(0,i.jsxs)(b.ZP,{className:B.mainCont,children:[(0,i.jsx)(w.Z,{open:p,autoHideDuration:6e3,onClose:O,children:(0,i.jsx)(k.Z,{onClose:O,severity:"success",children:"Successful!"})}),"story"===n?!0===d?(0,i.jsx)(L,{handleSuccess:z}):!0===D?(0,i.jsx)(ae,{handleSuccess:z,posts:e.data.posts}):null:"video"===n?!0===d?(0,i.jsx)(L,{video:!0,handleSuccess:z}):!0===D?(0,i.jsx)(ae,{video:!0,posts:e.data.posts}):null:"documents"===n?!0===d?(0,i.jsx)(de,{handleSuccess:z}):!0===D?(0,i.jsx)(fe,{docs:e.data.docs}):null:"editors"===n&&!0===d?(0,i.jsx)(ye,{posts:e.data.posts,handleSuccess:z}):null]})]})]})]}):(0,i.jsx)(W.Z,{})})}var Ce={getTopic:m.BN,getAllPosts:m.Bd,getDocuments:m.qi,isAuth:p.$D},we=(0,u.$j)((function(e){return{user:e.user,data:e.data,UI:e.UI}}),Ce)(Se)}},function(e){e.O(0,[24,294,774,888,179],(function(){return t=4730,e(e.s=t);var t}));var t=e.O();_N_E=t}]);