(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[964],{4730:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin",function(){return n(8298)}])},8298:function(e,t,n){"use strict";n.r(t),n.d(t,{Admin:function(){return Pe},default:function(){return ze}});var r=n(5893),o=n(7294),i=n(1664),a=n.n(i),s=n(1163),l=(n(6245),n(9669)),c=n.n(l),d=n(4416),u=n(6604),p=n(2979),m=n(1120),f=n(5117),h=n(8920),y=n(3457),g=n(3832),b=n(1749),x=n(282),v=n(4436),j=n(4714),Z=n(7702),C=n(2318),S=n(3950),w=n(5046),k=n(9492),D=n(2387),N=n(7598),O=n(8101),P=n(7812),I=n(7083),z=n(1395),F=n(1900);function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function B(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i=[],a=!0,s=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(l){s=!0,o=l}finally{try{a||null==n.return||n.return()}finally{if(s)throw o}}return i}}(e,t)||function(e,t){if(!e)return;if("string"===typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var R=(0,m.Z)((function(e){return(0,f.Z)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){H(e,t,n[t])}))}return e}({},e.spreadThis,{formCont:{display:"flex",flexDirection:"column"},optionClass:{display:"flex",margin:"1rem 0 1rem",alignItems:"center"},userCont:H({marginTop:"1.5rem",display:"flex",alignItems:"center"},e.breakpoints.down("sm"),{marginTop:"1rem"}),list:{padding:0},topicSel:H({justifyContent:"space-between"},e.breakpoints.down("sm"),{flexDirection:"column"}),resize:{fontSize:15,fontFamily:'"Helvetica"'},uploadImg:{"&:hover, &.MuiIconButton-root":{borderRadius:"0"}},btnClass:{height:32,alignItems:"center",justifyContent:"center",width:146,border:"1px solid #D9D9D9",display:"flex"},clickUp:{fontFamily:'"Helvetica"',fontSize:14,marginLeft:5,color:"#000"},popover:{padding:".5rem .75rem"},bottmInfo:H({display:"flex",justifyContent:"space-between"},e.breakpoints.down("sm"),{flexDirection:"column"}),post:H({marginLeft:"auto",width:"100px",height:46,backgroundColor:"#36C2F3",boxShadow:"none"},e.breakpoints.down("sm"),{width:"60px"})}))}));var U={clearUpload:u.UL,postImage:p.mh},E=(0,d.$j)((function(e){return{data:e.data,user:e.user,UI:e.UI}}),U)((function(e){var t=(0,h.Z)(),n=R(e),i=((0,y.Z)(t.breakpoints.up("md")),(0,o.useState)(!1)),a=i[0],s=i[1],l=(0,o.useState)(""),d=l[0],u=l[1],p=(0,o.useState)(""),m=p[0],f=p[1],g=(0,o.useState)(""),v=g[0],S=g[1],w=(0,o.useState)(""),T=w[0],H=w[1],U=(0,o.useState)(""),E=U[0],_=U[1],A=(0,o.useState)(!1),L=A[0],W=A[1],M=(0,o.useState)(),Y=M[0],$=M[1],X=(0,o.useState)(),q=X[0],V=X[1],G=B(o.useState(null),2),J=G[0],K=G[1],Q=Boolean(J),ee=Q?"simple-popover":void 0;return(0,r.jsx)("div",{children:(0,r.jsxs)("form",{className:n.formCont,onSubmit:function(t){t.preventDefault(),V(!0);var n={title:d,subTitle:m,body:v,important:a,topic:e.video?"video":T,link:e.video?"https://www.youtube.com/embed/".concat(E):E,postImage:e.video?"":e.data.upload.imgName,postedBy:"".concat(e.user.credentials.fName," ").concat(e.user.credentials.lName)};void 0!==n.postImage?c().post("/post",n).then((function(t){e.handleSuccess(),e.clearUpload()})).catch((function(e){$(!0),V(!1)})):(K(t.currentTarget),V(!1))},children:[!e.video&&(0,r.jsxs)(b.Z,{container:!0,className:n.topicSel,children:[(0,r.jsxs)(b.Z,{xs:6,sm:4,lg:4,className:n.optionClass,children:[(0,r.jsx)(C.Z,{variant:"body1",style:{marginRight:".5rem",fontFamily:'"Helvetica"',fontSize:15},children:"Important"}),(0,r.jsx)(k.Z,{checked:a.checkedB,onChange:function(){s(!a)},color:"secondary",name:"checkedB",inputProps:{"aria-label":"primary checkbox"}})]}),(0,r.jsx)(b.Z,{sm:12,md:8,lg:4,className:n.optionClass,children:(0,r.jsxs)("div",{style:{width:"100%"},children:[(0,r.jsx)(C.Z,{variant:"body1",style:{marginBottom:"0.5rem",fontFamily:'"Helvetica"',fontSize:15},children:"Select a Topic"}),(0,r.jsxs)(j.Z,{labelId:"Topic",id:"topic",error:Y,value:T,onChange:function(e){H(e.target.value)},disableUnderline:!0,color:"secondary",MenuProps:{classes:{list:n.list}},classes:{root:n.selectRoot,icon:n.icon},style:{border:"1px solid #D9D9D9",padding:"3px 0 3px 5px",minWidth:"100%"},children:[(0,r.jsx)(Z.Z,{value:"",children:(0,r.jsx)("em",{children:"None"})}),(0,r.jsx)(Z.Z,{value:"nigeria",style:{fontFamily:'"Helvetica"',fontSize:15},children:"Nigeria"}),(0,r.jsx)(Z.Z,{value:"international",style:{fontFamily:'"Helvetica"',fontSize:15},children:"International"}),(0,r.jsx)(Z.Z,{value:"security",style:{fontFamily:'"Helvetica"',fontSize:15},children:"Security"}),(0,r.jsx)(Z.Z,{value:"health",style:{fontFamily:'"Helvetica"',fontSize:15},children:"Health"}),(0,r.jsx)(Z.Z,{value:"business",style:{fontFamily:'"Helvetica"',fontSize:15},children:"Business"}),(0,r.jsx)(Z.Z,{value:"other",style:{fontFamily:'"Helvetica"',fontSize:15},children:"Other"})]})]})})]}),(0,r.jsx)(C.Z,{variant:"body1",style:{margin:"1rem 0 0.5rem",fontFamily:'"Helvetica"',fontSize:15},children:"Topic"}),(0,r.jsx)(O.Z,{color:"secondary",error:Y,fullWidth:!0,value:d,onChange:function(e){return u(e.target.value)},InputProps:{disableUnderline:!0,classes:{input:n.resize}},margin:"normal",style:{border:"1px solid #D9D9D9",padding:"4px 12px",marginTop:"0"}}),a&&(0,r.jsx)(O.Z,{color:"secondary",label:"Subtitle",error:Y,fullWidth:!0,value:m,onChange:function(e){return f(e.target.value)},margin:"normal",InputLabelProps:{shrink:!0}}),(0,r.jsx)(C.Z,{variant:"body1",style:{margin:"1rem 0 0.5rem",fontFamily:'"Helvetica"',fontSize:15},children:"Body"}),(0,r.jsx)(N.Z,{"aria-label":"minimum height",maxRows:3,minRows:3,multiline:!0,error:Y,color:"secondary",value:v,onChange:function(e){return S(e.target.value)},style:{fontFamily:'"Helvetica"',fontSize:15,border:"1px solid #D9D9D9",padding:"8px 16px"}}),(0,r.jsx)(C.Z,{variant:"body1",style:{margin:"1.5rem 0 0.5rem",fontFamily:'"Helvetica"',fontSize:15},children:"Link"}),(0,r.jsx)(O.Z,{id:"standard-full-width",color:"secondary",error:Y,fullWidth:!0,value:E,onChange:function(e){return _(e.target.value)},margin:"normal",InputProps:{disableUnderline:!0,classes:{input:n.resize}},style:{border:"1px solid #D9D9D9",padding:"4px 12px",marginTop:"0"}}),(0,r.jsxs)("div",{className:n.bottmInfo,children:[!e.video&&(0,r.jsxs)("span",{className:n.userCont,children:[(0,r.jsx)(C.Z,{style:{marginRight:".25rem",fontFamily:'"Helvetica"',fontSize:14},variant:"caption",children:"Upload Picture"}),(0,r.jsx)("input",{type:"file",id:"imageInput",hidden:"hidden",onChange:function(t){var n=t.target.files[0],r=new FormData;r.append("image",n,n.name),e.postImage(r),W(!0)}}),(0,r.jsx)(I.ZP,{title:"Edit profile picture",placement:"top",className:n.uploadImg,children:(0,r.jsx)(P.Z,{onClick:function(){document.getElementById("imageInput").click()},children:(0,r.jsxs)("div",{className:n.btnClass,children:[(0,r.jsx)(F.Z,{fontSize:"small"}),(0,r.jsx)(C.Z,{className:n.clickUp,children:"Click to Upload"})]})})}),L&&(0,r.jsx)(z.Z,{color:"secondary"})]}),(0,r.jsxs)("span",{className:n.userCont,children:[(0,r.jsx)(C.Z,{style:{marginRight:".25rem",fontSize:15,fontFamily:'"Helvetica"'},variant:"caption",children:"User name:"}),(0,r.jsxs)(C.Z,{variant:"p",style:{color:"#6B3FA0",fontSize:15,textTransform:"capitalize",fontFamily:'"Helvetica"'},children:[e.user.credentials.fName," ",e.user.credentials.lName]})]})]}),(0,r.jsx)(x.Z,{disabled:q,variant:"contained",color:"secondary",type:"submit",className:n.post,children:"Post"}),(0,r.jsx)(D.ZP,{id:ee,open:Q,anchorEl:J,onClose:function(){K(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:(0,r.jsx)(C.Z,{className:n.popover,children:"Image hasn't been uploaded yet."})})]})})})),_=n(5477),A=n(2543),L=n(3681);function W(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $(e,t){return!t||"object"!==q(t)&&"function"!==typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var q=function(e){return e&&"undefined"!==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};function V(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Y(e);if(t){var o=Y(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return $(this,n)}}(0,A.Z)((function(e){return{root:{height:4,width:250,borderRadius:5},colorPrimary:{backgroundColor:e.palette.grey["light"===e.palette.type?200:700]},bar:{borderRadius:5,backgroundColor:"#5ba56e"}}}))(L.Z);var G=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&X(e,t)}(a,e);var t,n,o,i=V(a);function a(){return W(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"render",value:function(){return(0,r.jsx)("div",{className:"loader h-full w-screen top-0 bottom-0 left-0 right-0 flex justify-center items-start py-16",children:(0,r.jsx)(_.Z,{size:45,thickness:3.5,color:"secondary"})})}}])&&M(t.prototype,n),o&&M(t,o),a}(o.Component),J=n(7484),K=n.n(J),Q=n(3637),ee=n(5566),te=n(9589),ne=n(9067);function re(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var oe=(0,m.Z)((function(e){var t;return(0,f.Z)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){re(e,t,n[t])}))}return e}({},e.spreadThis,(t={editBtn:{fill:"#185E5C",width:"2em",fontSize:".80rem",cursor:"pointer","&:hover":{transition:".5s"}},modal:{display:"flex",margin:"auto"},modalClass:re({borderRadius:"10px",backgroundColor:"white",width:"690px",height:"75%",margin:"auto",padding:"2.5%",overflow:"scroll"},e.breakpoints.down("sm"),{width:"90%"}),textClass:{width:"100%",fontFamily:'"Helvetica"',fontSize:15},input:{color:"#000"},btnClass:{width:"fit-content"},userCont:{marginTop:"1.5rem",display:"flex",alignItems:"center"},uploadImg:{"&:hover, &.MuiIconButton-root":{borderRadius:"0"}}},re(t,"btnClass",{height:32,alignItems:"center",justifyContent:"center",width:146,border:"1px solid #D9D9D9",display:"flex"}),re(t,"clickUp",{fontFamily:'"Helvetica"',fontSize:14,marginLeft:5,color:"#000"}),re(t,"updateClass",re({float:"right",width:"100px",color:"#fff",height:46,backgroundColor:"#36C2F3",boxShadow:"none"},e.breakpoints.down("sm"),{width:"auto"})),t)))}));var ie={postImage:p.mh},ae=(0,d.$j)((function(e){return{data:e.data,UI:e.UI}}),ie)((function(e){var t=(0,h.Z)(),n=oe(e),i=((0,y.Z)(t.breakpoints.up("md")),(0,o.useState)(!1)),a=i[0],s=i[1],l=(0,o.useState)(""),d=l[0],u=l[1],p=(0,o.useState)(""),m=p[0],f=p[1],g=(0,o.useState)(""),b=g[0],v=g[1],j=(0,o.useState)(""),Z=j[0],S=j[1],w=(0,o.useState)(!1),k=w[0],D=w[1],T=(0,o.useState)(!1),H=T[0],B=T[1],R=function(){s(!1),u(""),f(""),v(""),S("")};return(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{onClick:function(){c().get("/post/".concat(e.postID)).then((function(e){u(e.data.title),f(e.data.subTitle),v(e.data.body),D(e.data.postsid)})).catch((function(e){return console.log(e)})),s(!0)},children:(0,r.jsx)(ne.Z,{className:n.editBtn})}),(0,r.jsx)(ee.Z,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:n.modal,open:a,onClose:R,closeAfterTransition:!0,BackdropComponent:te.Z,BackdropProps:{timeout:500},children:(0,r.jsx)(Q.Z,{in:a,children:(0,r.jsx)("div",{className:n.modalClass,onClose:R,children:(0,r.jsxs)("div",{style:{marginTop:"4rem"},children:[(0,r.jsx)(C.Z,{variant:"body1",style:{margin:"1rem 0 0.5rem",fontFamily:'"Helvetica"',fontSize:15},children:"Title"}),(0,r.jsx)(O.Z,{className:n.textClass,color:"secondary",value:d,onChange:function(e){return u(e.target.value)},InputProps:{disableUnderline:!0},style:{border:"1px solid #D9D9D9",padding:"4px 12px",marginTop:"0"}}),(0,r.jsx)(C.Z,{variant:"body1",style:{margin:"1rem 0 0.5rem",fontFamily:'"Helvetica"',fontSize:15},children:"Body"}),(0,r.jsx)(N.Z,{className:n.textClass,"aria-label":"minimum height",minRows:3,maxRows:3,multiline:!0,rows:4,color:"secondary",value:b,onChange:function(e){return v(e.target.value)},style:{border:"1px solid #D9D9D9",padding:"8px 16px"},InputLabelProps:{shrink:!0}}),(0,r.jsx)(C.Z,{variant:"body1",style:{margin:"1.5rem 0 0.5rem",fontFamily:'"Helvetica"',fontSize:15},children:"Link"}),(0,r.jsx)(O.Z,{className:n.textClass,color:"secondary",value:Z,onChange:function(e){return S(e.target.value)},InputProps:{disableUnderline:!0,className:n.input},style:{border:"1px solid #D9D9D9",padding:"4px 12px",fontFamily:'"Helvetica"',marginTop:"0"}}),!e.video&&(0,r.jsxs)("span",{className:n.userCont,children:[(0,r.jsx)(C.Z,{style:{marginRight:".25rem",fontFamily:'"Helvetica"',fontSize:14},variant:"caption",children:"Upload Picture"}),(0,r.jsx)("input",{type:"file",id:"imageInput",hidden:"hidden",onChange:function(t){var n=t.target.files[0],r=new FormData;r.append("image",n,n.name),e.postImage(r),B(!0)}}),(0,r.jsx)(I.ZP,{title:"Edit profile picture",placement:"top",className:n.uploadImg,children:(0,r.jsx)(P.Z,{onClick:function(){document.getElementById("imageInput").click()},children:(0,r.jsxs)("div",{className:n.btnClass,children:[(0,r.jsx)(F.Z,{fontSize:"small"}),(0,r.jsx)(C.Z,{className:n.clickUp,children:"Click to Upload"})]})})}),H&&(0,r.jsx)(z.Z,{color:"secondary"})]}),(0,r.jsx)(x.Z,{onClick:function(){var t={title:d,subTitle:m,body:b,link:Z,postImage:e.data.upload.imgName};c().patch("/post/".concat(k),t).then((function(t){return e.handleSuccess()})).catch((function(e){return console.log(e)})),s(!1)},className:n.updateClass,children:"Update"})]})})})})]})})),se=n(8428),le=n(8995);function ce(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var de=(0,m.Z)((function(e){var t;return(0,f.Z)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ce(e,t,n[t])}))}return e}({},e.spreadThis,{postConts:{display:"flex",alignItems:"center",marginLeft:"auto",justifyContent:"end"},postCont:(t={display:"flex",margin:"1rem auto",gap:20},ce(t,e.breakpoints.down("sm"),{flexDirection:"column",width:"344px"}),ce(t,e.breakpoints.down("xs"),{width:"100%"}),t),delete:{cursor:"pointer","&:hover":{transition:".5s"}},postImg:ce({minWidth:"378px",maxWidth:"378px",height:"281px",objectFit:"cover"},e.breakpoints.down("sm"),{minWidth:"100%",maxWidth:"344px"}),title:ce({fontWeight:900,fontSize:20,textTransform:"initial",fontFamily:'"Playfair Display"',lineHeight:1.1,paddingTop:25,letterSpacing:-1},e.breakpoints.down("xs"),{fontSize:24}),subnews:ce({color:"black",fontSize:15,margin:"10px 0",letterSpacing:0,fontFamily:'"Helvetica Light"',fontWeight:300,display:"-webkit-box",WebkitLineClamp:2,WebkitBoxOrient:"vertical",overflow:"hidden"},e.breakpoints.down("xs"),{fontSize:13}),inputCont:{display:"flex",margin:"2rem 0 1.5rem"},iconCont:ce({cursor:"pointer",minWidth:"3rem",minHeight:"2.6rem",backgroundColor:"transparent",borderTopRightRadius:2,borderBottomRightRadius:2,display:"flex",alignItems:"center",justifyContent:"center",border:"1px solid #D9D9D9"},e.breakpoints.down("sm"),{minWidth:"2.5rem"}),iconClass:{"&:hover":{color:e.palette.secondary.main}}}))}));var ue={deletePost:u.fR,clearErrors:u.b9},pe=(0,d.$j)((function(e){return{data:e.data,UI:e.UI}}),ue)((function(e){var t=(0,h.Z)(),n=de(e),o=((0,y.Z)(t.breakpoints.up("md")),e.video?e.posts.filter((function(e){return"video"===e.topic})):e.posts.filter((function(e){return"video"!==e.topic})));return e.UI.loading,(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:n.inputCont,children:[(0,r.jsx)(O.Z,{placeholder:"Search story...",fullWidth:!0,onChange:function(e){return setSearch(e.target.value)},InputProps:{disableUnderline:!0,className:n.input},style:{border:"1px solid #D9D9D9",padding:"4px 10px",fontFamily:'"Helvetica"',marginTop:"0",borderTopLeftRadius:2,borderBottomLeftRadius:2}}),(0,r.jsx)("div",{className:n.iconCont,children:(0,r.jsx)(le.Z,{style:{color:"#6B3FA0"},className:n.iconClass})})]}),o.map((function(t,o){return(0,r.jsxs)("div",{children:[(0,r.jsx)(b.Z,{container:!0,style:{flexDirection:"column"},children:(0,r.jsxs)(b.Z,{className:n.postCont,children:[(0,r.jsx)("img",{src:t.postImage,alt:"".concat(e.topic," image"),className:n.postImg}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:n.postConts,children:[(0,r.jsx)(ae,{handleSuccess:e.handleSuccess,postID:t.id}),(0,r.jsx)(se.Z,{onClick:function(){return n=t.postsid,void e.deletePost(n);var n},className:n.delete,color:"error",fontSize:"small"})]}),(0,r.jsx)(C.Z,{className:n.title,variant:"subtitle1",children:t.title}),(0,r.jsx)(C.Z,{variant:"subtitle2",className:n.subnews,children:t.subTitle}),(0,r.jsx)(C.Z,{variant:"caption",children:K()(t.createdAt).fromNow()})]})]})}),(0,r.jsx)("hr",{})]},o)}))]})}));function me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var fe=(0,m.Z)((function(e){return(0,f.Z)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){me(e,t,n[t])}))}return e}({},e.spreadThis,{formCont:{display:"flex",flexDirection:"column",marginTop:"1rem"},resize:{fontSize:15,fontFamily:'"Helvetica"'},optionClass:{display:"flex",margin:"1rem 0 1rem",alignItems:"center"},userCont:{marginTop:"1.5rem",display:"flex",alignItems:"center"},btnClass:{backgroundColor:"rgba(0,0,0,.10)",padding:".5rem",borderRadius:"50%"},post:me({marginLeft:"auto",width:"100px",height:46,backgroundColor:"#36C2F3",boxShadow:"none"},e.breakpoints.down("sm"),{width:"60px"})}))}));var he={clearErrors:u.b9,postDoc:p.tX},ye=(0,d.$j)((function(e){return{data:e.data,user:e.user,UI:e.UI}}),he)((function(e){var t=(0,h.Z)(),n=fe(e),i=((0,y.Z)(t.breakpoints.up("md")),(0,o.useState)("")),a=i[0],s=i[1],l=(0,o.useState)(""),d=l[0],u=l[1],p=(0,o.useState)(""),m=p[0],f=p[1],g=(0,o.useState)(!1),b=(g[0],g[1],(0,o.useState)()),v=b[0],j=b[1],Z=(0,o.useState)(),S=Z[0],w=Z[1];return(0,r.jsxs)("div",{children:[(0,r.jsx)(C.Z,{variant:"caption",style:{margin:"1rem 0 0.5rem",fontFamily:'"Helvetica"',fontSize:15},children:"Please upload document"}),(0,r.jsxs)("form",{className:n.formCont,onSubmit:function(t){t.preventDefault(),w(!0);var n={title:a,info:d,postedBy:"".concat(e.user.credentials.fName," ").concat(e.user.credentials.lName),url:e.data.upload.doc,link:e.video?"https://www.youtube.com/embed/".concat(m):m};c().post("/document",n).then((function(t){return e.handleSuccess()})).catch((function(e){j(!0),w(!1)}))},children:[(0,r.jsx)(C.Z,{variant:"body1",style:{margin:"1rem 0 0.5rem",fontFamily:'"Helvetica"',fontSize:15},children:"Title"}),(0,r.jsx)(O.Z,{color:"secondary",error:v,fullWidth:!0,value:a,onChange:function(e){return s(e.target.value)},margin:"normal",InputProps:{disableUnderline:!0,classes:{input:n.resize}},style:{fontFamily:'"Helvetica"',fontSize:15,border:"1px solid #D9D9D9",padding:"4px 12px",marginTop:"0"}}),(0,r.jsx)(C.Z,{variant:"body1",style:{margin:"1rem 0 0.5rem",fontFamily:'"Helvetica"',fontSize:15},children:"Info"}),(0,r.jsx)(N.Z,{color:"secondary",error:v,"aria-label":"minimum height",maxRows:3,minRows:3,multiline:!0,value:d,onChange:function(e){return u(e.target.value)},margin:"normal",InputProps:{disableUnderline:!0},style:{fontFamily:'"Helvetica"',fontSize:15,border:"1px solid #D9D9D9",padding:"4px 12px",marginTop:"0"}}),(0,r.jsx)(C.Z,{variant:"body1",style:{margin:"1.5rem 0 0.5rem",fontFamily:'"Helvetica"',fontSize:15},children:"Link"}),(0,r.jsx)(O.Z,{id:"standard-full-width",color:"secondary",error:v,fullWidth:!0,value:m,onChange:function(e){return f(e.target.value)},margin:"normal",InputProps:{disableUnderline:!0,classes:{input:n.resize}},style:{fontFamily:'"Helvetica"',fontSize:15,border:"1px solid #D9D9D9",padding:"4px 12px",marginTop:"0"}}),(0,r.jsxs)("span",{className:n.userCont,children:[(0,r.jsx)(C.Z,{style:{marginRight:".25rem",fontSize:15,fontFamily:'"Helvetica"'},variant:"caption",children:"User name:"}),(0,r.jsxs)(C.Z,{variant:"p",style:{color:"#6B3FA0",fontSize:15,textTransform:"capitalize",fontFamily:'"Helvetica"'},children:[e.user.credentials.fName," ",e.user.credentials.lName]})]}),(0,r.jsx)(x.Z,{disabled:S,variant:"contained",color:"secondary",type:"submit",className:n.post,children:"Post"})]})]})}));function ge(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var be=(0,m.Z)((function(e){return(0,f.Z)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){ge(e,t,n[t])}))}return e}({},e.spreadThis,{postCont:{display:"flex",flexDirection:"column",margin:"1rem auto"},delete:{padding:".5rem",borderRadius:"50%",cursor:"pointer","&:hover":{backgroundColor:"rgba(0,0,0,.1)",transition:".5s"}}}))}));var xe={deleteDoc:u.oe,clearErrors:u.b9},ve=(0,d.$j)((function(e){return{data:e.data,UI:e.UI}}),xe)((function(e){var t=(0,h.Z)(),n=be(e),o=((0,y.Z)(t.breakpoints.up("md")),e.docs);return(0,r.jsx)("div",{children:o.map((function(t,o){return(0,r.jsxs)("div",{children:[(0,r.jsxs)(b.Z,{container:!0,children:[(0,r.jsxs)(b.Z,{xs:11,className:n.postCont,children:[(0,r.jsx)(C.Z,{style:{textTransform:"capitalize"},variant:"subtitle1",children:t.title}),(0,r.jsx)(C.Z,{variant:"subtitle2",children:t.info}),(0,r.jsxs)(C.Z,{variant:"caption",children:["Posted By: ",t.postedBy]}),(0,r.jsxs)(C.Z,{variant:"caption",children:["Posted On: ",K()(t.createdAt).format("h:mm a, dddd DD-MMM-YYYY")]})]}),(0,r.jsx)(b.Z,{xs:1,className:n.postCont,children:(0,r.jsx)(se.Z,{onClick:function(){return n=t.docid,void e.deleteDoc(n);var n},className:n.delete,color:"error"})})]}),(0,r.jsx)("hr",{})]},o)}))})})),je=n(7202);function Ze(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ce=(0,m.Z)((function(e){return(0,f.Z)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ze(e,t,n[t])}))}return e}({},e.spreadThis,{postCont:{display:"flex",flexDirection:"column",marginLeft:"auto"},buttonClass:{padding:".5rem",borderRadius:"50%",cursor:"pointer","&:hover":{backgroundColor:"rgba(0,0,0,.1)",transition:".5s"}}}))}));function Se(e){var t=(0,h.Z)(),n=Ce(e),i=((0,y.Z)(t.breakpoints.up("md")),(0,o.useState)("")),a=(i[0],i[1]),s=e.posts.filter((function(e){return"video"!==e.topic&&!1===e.editors_pick}));return(0,r.jsx)("div",{children:s.map((function(t,o){return(0,r.jsxs)("div",{children:[(0,r.jsxs)(b.Z,{container:!0,style:{flexDirection:"column"},children:[(0,r.jsx)(b.Z,{xs:1,className:n.postCont,children:(0,r.jsx)(je.Z,{onClick:function(){return n=t.postsid,a(n),void c().get("/update/".concat(n)).then((function(t){return e.handleSuccess()})).catch((function(e){console.log(e)}));var n},className:n.buttonClass,color:"secondary"})}),(0,r.jsxs)(b.Z,{xs:11,className:n.postCont,children:[(0,r.jsx)(C.Z,{style:{textTransform:"capitalize"},variant:"subtitle1",children:t.title}),(0,r.jsx)(C.Z,{variant:"subtitle2",children:t.subtitle}),(0,r.jsxs)(C.Z,{variant:"button",children:["topic: ",t.topic]}),(0,r.jsxs)(C.Z,{variant:"caption",children:["Posted By: ",t.postedBy]}),(0,r.jsxs)(C.Z,{variant:"caption",children:["Posted On:"," ",K()(t.createdAt).format("h:mm a, dddd DD-MMM-YYYY")]})]})]}),(0,r.jsx)("hr",{})]},o)}))})}var we=n(8997),ke=n(1037),De=(n(997),n(8114));function Ne(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Oe=(0,m.Z)((function(e){var t;return(0,f.Z)(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){Ne(e,t,n[t])}))}return e}({},e.spreadThis,{formControl:{width:"100%"},admin:Ne({fontFamily:'"Helvetica Black Bold"',fontSize:48,paddingBottom:40},e.breakpoints.down("sm"),{fontSize:24}),navCont:{marginBottom:"5rem",paddingTop:"1.5rem"},gridCont:(t={background:"#fff",width:"690px",margin:"auto",padding:"40px",marginBottom:30,boxShadow:"0px 4px 34px 10px rgba(228, 228, 228, 0.25)"},Ne(t,e.breakpoints.down("sm"),{width:"85%"}),Ne(t,e.breakpoints.down("xs"),{paddingRight:"20px",paddingLeft:"20px",width:"100%"}),t),logoFull:{height:"auto",width:105,margin:"1rem"},hubClass:{height:"20px",width:"auto",marginRight:".25rem"},mainCont:{marginTop:"1rem"},contentType:{fontSize:15,marginBottom:"0.5rem",fontFamily:'"Helvetica"'},list:{padding:0},selectRoot:Ne({},e.breakpoints.down("sm"),{}),buttonCont:{display:"flex",marginTop:"2rem"},btnCont:Ne({width:"fit-content",textTransform:"uppercase",marginLeft:30,fontSize:15,fontFamily:'"Helvetica Bold"',backgroundColor:"#185E5C",color:"white",borderColor:"transparent","&:hover":{backgroundColor:"#e94b47"}},e.breakpoints.down("sm"),{padding:8}),btnConts:Ne({width:"fit-content",textTransform:"uppercase",marginLeft:"auto",background:"#6B3FA0",height:45,fontSize:15,fontmily:'"Helvetica Bold"',boxShaw:"none"},e.breakpoints.down("sm"),{padding:8})}))}));function Pe(e){var t=(0,o.useState)(""),n=t[0],i=t[1],l=(0,o.useState)(!1),c=l[0],d=l[1],u=(0,o.useState)(!1),p=u[0],m=u[1],f=(0,o.useState)([]),k=(f[0],f[1]),D=(e.data.doctopic,(0,o.useState)(!1)),N=(D[0],D[1]),O=function(){i(""),N(!0)},P=function(e,t){"clickaway"!==t&&N(!1)},I=function(t){"story"===t||"editors"===t?(e.getAllPosts(),d(!1),m(!1),k(e.data.posts)):"video"===t?(e.getTopic(t),d(!1),m(!1),k(e.data.topic)):"documents"===t&&(e.getDocuments(),d(!1),m(!1),k(e.data.docs))},z=((0,s.useRouter)(),(0,De.a)()),F=(0,h.Z)(),T=Oe(e),H=(0,y.Z)(F.breakpoints.up("md")),B=(0,o.useState)(!0);B[0],B[1];return(0,o.useEffect)((function(){I("story"),I("video"),I("documents")}),[]),(0,r.jsx)("div",{style:{background:"#FBFBFB",minHeight:"100vh"},children:z.user?(0,r.jsxs)("div",{children:[(0,r.jsx)(g.Z,{className:T.navCont,children:(0,r.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,r.jsx)(a(),{href:"/",className:T.logoComp,children:(0,r.jsx)("a",{children:(0,r.jsx)("img",{src:we.Z.src,className:H?T.logoClass:T.logoFull,alt:"MPH-logo",style:{width:""}})})}),(0,r.jsxs)("div",{style:{display:"flex",cursor:"pointer"},children:[(0,r.jsx)("img",{src:ke.Z.src,alt:"",className:T.hubClass}),(0,r.jsxs)(C.Z,{variant:"p",style:{fontSize:15,textTransform:"capitalize",fontFamily:'"Helvetica"'},children:[e.user.credentials.fName," ",e.user.credentials.lName]})]})]})}),(0,r.jsxs)(g.Z,{className:T.adminCont,children:[(0,r.jsx)(C.Z,{className:T.admin,variant:"h5",children:"Admin Panel"}),(0,r.jsxs)(b.Z,{className:T.gridCont,children:[(0,r.jsxs)(b.Z,{className:T.formControl,children:[(0,r.jsx)(C.Z,{className:T.contentType,children:"Select a Content Type"}),(0,r.jsx)(v.Z,{style:{minWidth:"100%",border:"1px solid #D9D9D9",padding:"3px 0 3px 5px"},children:(0,r.jsxs)(j.Z,{value:n,color:"secondary",onChange:function(e){i(e.target.value),I(e.target.value)},label:"Content",disableUnderline:!0,MenuProps:{classes:{list:T.list}},classes:{root:T.selectRoot,icon:T.icon},children:[(0,r.jsx)(Z.Z,{value:"",children:(0,r.jsx)("em",{children:"None"})}),(0,r.jsx)(Z.Z,{style:{fontFamily:'"Helvetica"',fontSize:15},value:"story",children:"Story"}),(0,r.jsx)(Z.Z,{style:{fontFamily:'"Helvetica"',fontSize:15},value:"video",children:"Video"}),(0,r.jsx)(Z.Z,{style:{fontFamily:'"Helvetica"',fontSize:15},value:"documents",children:"Documents"})]})})]}),""!==n&&(0,r.jsxs)(b.Z,{className:T.buttonCont,children:[(0,r.jsxs)(x.Z,{size:H?"small":"large",onClick:function(){d(!0),m(!1)},className:T.btnConts,style:{},variant:"contained",color:"secondary",children:["Add New ",n]}),"editors"!==n&&(0,r.jsxs)(x.Z,{size:H?"small":"large",onClick:function(){d(!1),m(!0)},variant:"outlined",className:T.btnCont,children:["story"===n?"Edit":"Delete"," ",n]})]}),(0,r.jsxs)(b.Z,{className:T.mainCont,children:[(0,r.jsx)(S.Z,{open:open,autoHideDuration:6e3,onClose:P,children:(0,r.jsx)(w.Z,{onClose:P,severity:"success",children:"Successful!"})}),"story"===n?!0===c?(0,r.jsx)(E,{handleSuccess:O}):!0===p?(0,r.jsx)(pe,{handleSuccess:O,posts:e.data.posts}):null:"video"===n?!0===c?(0,r.jsx)(E,{video:!0,handleSuccess:O}):!0===p?(0,r.jsx)(pe,{video:!0,posts:e.data.posts}):null:"documents"===n?!0===c?(0,r.jsx)(ye,{handleSuccess:O}):!0===p?(0,r.jsx)(ve,{docs:e.data.docs}):null:"editors"===n&&!0===c?(0,r.jsx)(Se,{posts:e.data.posts,handleSuccess:O}):null]})]})]})]}):(0,r.jsx)(G,{})})}var Ie={getTopic:u.BN,getAllPosts:u.Bd,getDocuments:u.qi,isAuth:p.$D},ze=(0,d.$j)((function(e){return{user:e.user,data:e.data,UI:e.UI}}),Ie)(Pe)}},function(e){e.O(0,[955,774,888,179],(function(){return t=4730,e(e.s=t);var t}));var t=e.O();_N_E=t}]);