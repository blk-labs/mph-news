(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[409],{9356:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/topics/[topic]",function(){return r(4265)}])},4265:function(e,n,r){"use strict";r.r(n),r.d(n,{TopicPage:function(){return w}});var t=r(4051),s=r.n(t),l=r(5893),c=r(7294),a=r(1664),i=r.n(a),o=r(1163),x=r(7484),p=r.n(x),d=r(4110),u=r.n(d),h=r(6900),g=r(3438),f=r(6618),m=r(1187),b=r(9008),v=r.n(b),j=r(72);function N(e,n,r,t,s,l,c){try{var a=e[l](c),i=a.value}catch(o){return void r(o)}a.done?n(i):Promise.resolve(i).then(t,s)}function w(){var e=(0,o.useRouter)().query.topic,n=(0,c.useState)([]),r=n[0],t=n[1],a=(0,c.useState)(!1),x=(a[0],a[1]),d=(0,c.useState)(1),b=d[0],w=d[1];p().extend(u());var y=(0,c.useCallback)((function(){r.length<=0||b<=1||(w((function(e){return e>1?e-1:e})),C(r[0].createdAt,!0))}),[b,r]),k=(0,c.useCallback)((function(e){e<b?y():_()}),[b,r]),_=(0,c.useCallback)((function(){10===r.length&&(console.log({newslength:r.length}),w((function(e){return 10===(r||[]).length?e+1:e})),C(r[r.length-1].createdAt))}),[b,r]),C=function(){var n,r=(n=s().mark((function n(r){var l,c,a=arguments;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return l=a.length>1&&void 0!==a[1]&&a[1],x(!0),n.prev=2,n.next=5,h.Q.getTopicNews(e,10,r,l);case 5:0===(c=n.sent).length&&b>1?w((function(e){return e-1})):t(c),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(2),console.log(n.t0);case 12:return n.prev=12,x(!1),n.finish(12);case 15:case"end":return n.stop()}}),n,null,[[2,9,12,15]])})),function(){var e=this,r=arguments;return new Promise((function(t,s){var l=n.apply(e,r);function c(e){N(l,t,s,c,a,"next",e)}function a(e){N(l,t,s,c,a,"throw",e)}c(void 0)}))});return function(e){return r.apply(this,arguments)}}();return(0,j.Z)((function(e){"complete"===e&&C("")})),(0,c.useEffect)((function(){C("")}),[]),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(v(),{children:(0,l.jsxs)("title",{children:["MPH News | ",e]})}),(0,l.jsxs)("div",{className:"font-mont",children:[(0,l.jsxs)("div",{className:"w-full lg:w-1/2 px-6 lg:px-[120px] py-[30px]",children:[(0,l.jsx)("h1",{className:"capitalize font-black text-[42px] lg:text-[64px]",children:e}),(0,l.jsxs)("p",{className:"text-base text-gray-700",children:["Get the latest ",e," news and hot celeb gossip with exclusive stories and pictures to discover more!"]})]}),(0,l.jsx)("hr",{}),(0,l.jsxs)("div",{className:"w-full flex flex-wrap items-stretch px-6 lg:px-[120px] py-[30px]",children:[(0,l.jsxs)("div",{className:"w-full h-full lg:w-2/3 lg:pr-[50px]",children:[r.map((function(e,n){return(0,l.jsxs)("div",{className:"py-[25px]",children:[(0,l.jsx)("div",{className:"w-full aspect-[16/10] bg-cover bg-no-repeat mb-[16px] lg:mb-0 lg:p-[36px]",style:{backgroundImage:"url('".concat(e.postImage,"')")},children:(0,l.jsx)(g.Z,{label:e.topic})}),(0,l.jsxs)("div",{className:"w-full lg:w-[92%] bg-white z-10 lg:mt-[-50px] lg:p-[36px]",children:[(0,l.jsxs)("div",{className:"flex items-center text-sm py-[10px]",children:[(0,l.jsx)("span",{className:"mr-2",children:"By"})," ",(0,l.jsx)("span",{className:"font-bold underline",children:e.postedBy})," ",(0,l.jsx)("div",{className:"w-1 h-1 mx-3 rounded-full bg-black"}),new Date(e.createdAt).toLocaleDateString("en-GB",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]}),(0,l.jsx)("h2",{className:"lg:my-[30px] text-[24px] lg:text-3xl font-extrabold hover:underline transition-all",children:(0,l.jsx)(i(),{href:"/story/".concat(e.id),children:(0,l.jsx)("a",{children:e.title})})}),(0,l.jsxs)("p",{className:"mb-[30px] overflow-ellipsis",children:[e.body.substring(0,180),"..."]}),(0,l.jsx)(i(),{href:"/story/".concat(e.id),children:(0,l.jsx)("a",{className:"text-sm font-bold border-b-4 border-[#5BA66E]",children:"Continue reading"})})]})]},e.id)})),(0,l.jsxs)("div",{className:"my-[36px] flex flex-wrap items-center font-bold text-xs uppercase",children:[(0,l.jsx)("p",{className:"h-[60px] leading-[60px] px-[25px] border border-gray-300 hover:bg-gray-200 cursor-pointer",onClick:y,children:"prev"}),b>1&&(0,l.jsx)("p",{className:"h-[60px] leading-[60px] px-[25px] border border-gray-300 hover:bg-gray-200 cursor-pointer ml-[-1px]",onClick:function(){return k(b-1)},children:b-1}),(0,l.jsx)("p",{className:"h-[60px] leading-[60px] px-[25px] border border-[#5BA66E] bg-[#5BA66E] ml-[-1px]",children:b}),10===r.length&&(0,l.jsx)("p",{className:"h-[60px] leading-[60px] px-[25px] border border-gray-300 hover:bg-gray-200 cursor-pointer ml-[-1px]",onClick:function(){return k(b+1)},children:b+1}),(0,l.jsx)("p",{className:"h-[60px] leading-[60px] px-[25px] border border-gray-300 hover:bg-gray-200 cursor-pointer ml-[-1px]",onClick:_,children:"Next"})]})]}),(0,l.jsx)(m.Z,{className:"relative"})]}),(0,l.jsx)(f.Z,{})]})]})}n.default=w}},function(e){e.O(0,[774,888,179],(function(){return n=9356,e(e.s=n);var n}));var n=e.O();_N_E=n}]);